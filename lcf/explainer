Hi folks,

I've made a number of changes to the model:

1. Innovation premium and Cost v gas:
    Innovation premium ignores Negawatts, while the cost v gas includes them, and because they're so cheap this figure then comes out negative.
    In our discussion we thought innovation premium was the more useful figure.
    nb I get £219m in my scenario that matches Excel sc3 most closely, rather than £150m. This is to do with a couple of Excel quirks altering the actual amount of generation which I'm happy to explain on skype if you like.

2. Notes/sources:
    The model now accepts technology data with or without notes/sources.
    I've tried to follow the Excel layout, so there is a column with a reference number next to each data point, and then a description below of what the number corresponds to in terms of notes, source, link, local link.
    It's still possible to upload using the old template though if you don't want to add notes. Once you have one notes column though, you need all of them or it will complain.
    Notes/soures are displayed on the Inputs and Sources section on a scenario results page.

3. Ironing out another excel quirk:
    The Excel model was calculating the number of projects available in a way that misconstrued the price distribution of projects and also meant that all unsuccessful projects could continually bid into future rounds.
    The main reason this was problematic was because it meant the cap on how much capacity could be deployed in a year was being ignored.
    But I realised that for some technologies this is actually useful/realistic, especially if they have separate negotiations (ie nuclear), which could be unsuccessful for several years and yet still considered in future years.
    So there's now an option to turn this quirk completely off or on, or have it on just for separate negotiations.

4. Separate out quirks:
      At Chaitanya's suggestion, I've separated the Excel quirks out so you can select them individually.
      I've set the default to include only the one that allows projects in separate negotiations to be considered in future years.

5. Interpolation:
    It's now possible to add a csv file with missing technology values and the model will fill them in. It's still necessary for 2020 and 2030 values to be included.
    If intermediate values are included they will be used too.
    eg
    2020     0
    2030    10

    will produce
    2020     0
    2021     1
    2022     2
    2023     3
    2024     4
    2025     5
    2026     6
    2027     7
    2028     8
    2029     9
    2030    10

    while
    2020     0
    2022     9
    2030    10

    will produce
    2020     0
    2021     4.5
    2022     9
    2023     9.125
    2024     9.25
    2025     9.375
    2026     9.5
    2027     9.625
    2028     9.75
    2029     9.875
    2030    10


    It doesn't make a difference to the model whether years with no values still listed in the csv file or not.

    eg
    E	OFW	2020	True	71.3353908668731	103.034791021672	114.074615384615	0.42	1.9		832
    E	OFW	2025	True	70.2083010835913	97.4463041795666	104.382307692308	0.49
    E	OFW	2030	True	65.1448298261547	91.847304242529	94.69	0.49	1.9		832

    will be treated the same as:
    E	OFW	2020	True	71.3353908668731	103.034791021672	114.074615384615	0.42	1.9		832
    E	OFW	2021	True
    E	OFW	2022	True
    E	OFW	2023	True
    E	OFW	2024	True
    E	OFW	2025	True	70.2083010835913	97.4463041795666	104.382307692308	0.49	1.9		832
    E	OFW	2026	True
    E	OFW	2027	True
    E	OFW	2028	True
    E	OFW	2029	True
    E	OFW	2030	True	65.1448298261547	91.847304242529	94.69	0.49	1.90000000000001		832

6. Policies:
    Based on our discussion, I've created the option to allow polices to subtract costs off technologies rather than multiply a discount.
    I've also removed the ability of a policy to have any effect on exogenous things like wholesale and gas prices.

7. Error messages:
    I've added a bunch of error messages at various points that will hopefully be more helpful than the ones generated by Django.

8. Glossary:
    I've added a glossary of helpful terms and updated the instructions


Four things I haven't done that may be useful:
1. Added notes/sources to policies.
    You can add notes in the description of the policy but not for each data point like you can in the technology csv upload.
2. Properly tested the ability to turn technologies on and off or individual years.
    It seems to work so long as the 'allow previously unsuccessful projects for all technologies to be considered in future years' quirk is OFF, but I haven't tested it properly so don't KNOW KNOW that it's reliable.
3. Added support for inflation adjustment.
    The Excel version allows you to specify which year prices you'd like your results in and I haven't done this yet.
4. Reintroduced the 'Save as' feature that allows you to create new scenarios based off existing one. Could do this in two ways:
    Easy version: would still require a csv upload of the technology data but would save all the other settings for you, budget, quirks, policies, etc.
    Slightly harder version: would allow you to edit the inputs table directly, so you could alter individual values (obviously only useful if you wanted to alter one or two).

I'd be happy to do these, or make any other changes that may be helpful, but I've now finshed my modelling days so would need to take it out of my remaining 7.5 days that are meant to be on other work. (or extend contract beyond 30 days).
